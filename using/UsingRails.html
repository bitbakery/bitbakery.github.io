<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Using Rails</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width">

    <!-- Place favicon.ico and apple-touch-icon.png in the root directory -->

    <script src="https://google-code-prettify.googlecode.com/svn/loader/run_prettify.js"></script>
    <link rel="stylesheet" href="../css/normalize.css">
    <link rel="stylesheet" href="../css/main.css">
    <link href="../css/bitbakery.css" title="primary" rel="stylesheet" type="text/css"/>
    <script src="../js/vendor/modernizr-2.6.2.min.js"></script>
</head>
<body>
<!--[if lt IE 7]>
<p class="chromeframe">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> or <a href="http://www.google.com/chromeframe/?redirect=true">activate Google Chrome Frame</a> to improve your experience.</p>
<![endif]-->

<h1>Using Rails</h1>

<p>Rails is... </p>


<h3>Setup</h3>

<p>The Ruby and Rails communities have a collection of tools to manage their environments. While not strictly necessary
to set up a working Rails development environment, let's start things properly. </p>

<ul>
    <li>Install RVM</li>
    <li>Install Ruby</li>
    <li>Install Rails</li>
    <li>Install PostgreSQL</li>
    <li>NOTE: Mention something about Bundler and the Gemfile</li>
</ul>

<h3>Creating a Rails Application</h3>

<div class="terminal">

    <div class="term-in">> rails new rails-test-project --database=postgresql</div>
    <div class="term-out">create
create  README.rdoc
create  Rakefile
create  config.ru
create  .gitignore
create  Gemfile
create  app
create  app/assets/images/rails.png</div>
</div>

<p>...and so on. Once complete, we see that the rails new command created all of this:</p>

<img src="../img/rails/rails-new-project.png"/>


<p>We need to add a database user for our new Rails application to our Postgres database:</p>

<div class="terminal">
<div class="term-in">> psql -d postgres</div>
<div class="term-out">psql (9.3.2)
Type "help" for help.
</div>
<div class="term-in-alt">postgres=# create role rails_test_project login createdb;</div>
<div class="term-out">CREATE ROLE</div>
<div class="term-in-alt">postgres=# \q</div>
</div>


<p>We now have a working skeleton of a Rails application, which we can test:</p>

<div class="terminal">
<div class="term-in">> rails server</div>
<div class="term-out">Booting WEBrick
=> Rails 3.2.14 application starting in development on http://0.0.0.0:3000
=> Call with -d to detach
=> Ctrl-C to shutdown server
[2014-02-18 04:11:24] INFO  WEBrick 1.3.1
[2014-02-18 04:11:24] INFO  ruby 1.9.3 (2013-02-22) [x86_64-darwin12.3.0]
[2014-02-18 04:11:24] INFO  WEBrick::HTTPServer#start: pid=3376 port=3000</div>
</div>

<img src="../img/rails/hello-world.png"/>


<h3>The Design of Rails</h3>

<p>A few core principles underlie the design of Rails:
    <ul>
    <li>Convention over configuration</li>
    <li>MVC</li>
    <li>...???...</li>
    </ul>
</p>



<h3>Action Controller and Action View</h3>

<p>Rails provides additional tools for creating views and controllers corresponding to user actions. For example,
if we wanted to enable users to either eat bacon or eat lutefisk, we could create an "Eat" controller with
corresponding bacon and lutefisk methods</p>

<div class="terminal">
<div class="term-in">> rails generate controller Eat bacon lutefisk</div>
<div class="term-out">create  app/controllers/eat_controller.rb
route  get "eat/lutefisk"
route  get "eat/bacon"
invoke  erb
create    app/views/eat
create    app/views/eat/bacon.html.erb
create    app/views/eat/lutefisk.html.erb
invoke  test_unit
create    test/functional/eat_controller_test.rb
invoke  helper
create    app/helpers/eat_helper.rb
invoke    test_unit
create      test/unit/helpers/eat_helper_test.rb
invoke  assets
invoke    coffee
create      app/assets/javascripts/eat.js.coffee
invoke    scss
create      app/assets/stylesheets/eat.css.scss</div>
</div>


<p>rails-test-project/app/controllers/EatController.rb</p>

<pre class="prettyprint"><div class="pre-padding">class EatController < ApplicationController
  def bacon
  end

  def lutefisk
  end
end</div></pre>

<p>rails-test-project/app/controllers/ApplicationController.rb</p>

<pre class="prettyprint"><div class="pre-padding">class ApplicationController < ActionController::Base
  protect_from_forgery
end</div></pre>


<p>For a good explanation of protect_from_forgery, read http://railskey.wordpress.com/2012/07/02/rails-protect_from_forgery/</p>



<h3>Active Record</h3>


<p>schema.rb gets automagically generated by...</p>

<h3>Making Database Changes</h3>


<h3>Rails Plugins</h3>


<h3>Common Libraries</h3>

<p>There exists an endless selection of libraries, but some are worth calling out in particular:</p>

<ul>
    <li>Factory Girl</li>
    <li>Coffeescript</li>
    <li>Rabl</li>
</ul>


<script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="../js/vendor/jquery-1.10.2.min.js"><\/script>')</script>
<script src="../js/plugins.js"></script>
<script src="../js/main.js"></script>

<!-- Google Analytics: change UA-XXXXX-X to be your site's ID. -->
<script>
    var _gaq=[['_setAccount','UA-XXXXX-X'],['_trackPageview']];
    (function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
        g.src='//www.google-analytics.com/ga.js';
        s.parentNode.insertBefore(g,s)}(document,'script'));
</script>
</body>
</html>

